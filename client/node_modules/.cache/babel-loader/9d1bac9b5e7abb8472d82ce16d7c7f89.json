{"ast":null,"code":"import axios from 'axios';\nconst ALL_BOOKS = 'ALL_BOOKS';\nexport function allBooks() {\n  return function (dispatch) {\n    return fetch('http://localhost:3001/books').then(response => response.json()).then(json => {\n      dispatch({\n        type: ALL_BOOKS,\n        payload\n      });\n    }).catch(err => console.log(err));\n  };\n}\nexport const postUser = user => {\n  window.localStorage.setItem('key', JSON.stringify(user));\n  const LogInDate = new Date();\n  const LogInHour = LogInDate.getDate() + '-' + (LogInDate.getMonth() + 1) + '-' + LogInDate.getFullYear() + '-' + LogInDate.getHours() + '-' + LogInDate.getMinutes();\n  window.localStorage.setItem('date', JSON.stringify(LogInHour));\n  return {\n    type: 'USER',\n    payload: user\n  };\n};\nexport const userLogin = user => {\n  const item = window.localStorage.getItem('key'); //  item ? JSON.parse(item)\n\n  return {\n    type: 'USERLOG',\n    payload: item && JSON.parse(item)\n  };\n};\nexport function Search(name, price, date) {\n  const nombre = name ? name : null;\n  return function (dispatch) {\n    return fetch(`https://api.bestbuy.com/v1/products(search=${nombre})?format=json&show=image,releaseDate,sku,name,salePrice&apiKey=zkV0vgA2RGeQDBibuvt1Dp5k&format=json`).then(response => response.json()).then(json => {\n      dispatch({\n        type: SEARCH,\n        payload: json.products,\n        price,\n        date\n      });\n    }).catch(err => alert('Ups couldnt find it'));\n  };\n}\n_c = Search;\nexport const LogOut = () => {\n  let LogInHour = JSON.parse(window.localStorage.getItem('date'));\n  const LogOutDate = new Date();\n  let LogOutHour = LogOutDate.getDate() + '-' + (LogOutDate.getMonth() + 1) + '-' + LogOutDate.getFullYear() + '-' + LogOutDate.getHours() + '-' + LogOutDate.getMinutes();\n  let logDate = LogOutDate.getDate() + '-' + (LogOutDate.getMonth() + 1) + '-' + LogOutDate.getFullYear() + ':';\n  LogInHour = LogInHour.split('-');\n  LogOutHour = LogOutHour.split('-');\n  let LogHours = LogInHour[3] - LogOutHour[3];\n  let LogMinutes = LogInHour[4].toString() - LogOutHour[4];\n  let loggedTime = logDate.toString() + LogHours.toString() + 'Hs' + '-' + LogMinutes.toString() + 'Mins' + '-';\n  alert(loggedTime);\n  let key = JSON.parse(window.localStorage.getItem('key'));\n  let email = key.email;\n  axios.post(\"http://localhost:3001/updateUser\", {\n    email,\n    loggedTime\n  });\n  window.localStorage.removeItem('key');\n  return {\n    type: LOGOUT\n  };\n};\n_c2 = LogOut;\nexport const ClearAll = () => {\n  return {\n    type: CLEAR_ALL\n  };\n};\n_c3 = ClearAll;\nexport const Searchvalue = payload => {\n  return {\n    type: SEARCHVALUE,\n    payload\n  };\n};\n_c4 = Searchvalue;\nexport function agregarCarrito(payload) {\n  return function (dispatch) {\n    return fetch(`https://api.bestbuy.com/v1/products/${payload}.json?pageSize=50&page=1&apiKey=zkV0vgA2RGeQDBibuvt1Dp5k&format=json`).then(response => response.json()).then(json => {\n      window.localStorage.setItem('cart', JSON.stringify(json));\n      dispatch({\n        type: AGREGAR_CARRITO,\n        payload: json\n      });\n      alert('Added to cart');\n    }).catch(err => alert('Ups couldnt find it'));\n  };\n}\nexport const addcart = payload => {\n  return {\n    type: 'addcart',\n    payload\n  };\n};\nexport const Removeitem = payload => {\n  return {\n    type: REMOVE,\n    payload\n  };\n};\n_c5 = Removeitem;\nexport const GetDetails = id => {\n  return function (dispatch) {\n    return fetch(`https://api.bestbuy.com/v1/products/${id}.json?pageSize=50&page=1&apiKey=zkV0vgA2RGeQDBibuvt1Dp5k&format=json`).then(response => response.json()).then(json => {\n      dispatch({\n        type: GET_DETAILS,\n        payload: json\n      });\n    }).catch(err => console.log(err));\n  };\n};\n_c6 = GetDetails;\nexport const getLoggedTime = () => {\n  return function (dispatch) {\n    return fetch('http://localhost:3001/users').then(response => response.json()).then(json => {\n      dispatch({\n        type: 'updateTime',\n        payload: json\n      });\n    }).catch(err => console.log(err));\n  };\n};\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Search\");\n$RefreshReg$(_c2, \"LogOut\");\n$RefreshReg$(_c3, \"ClearAll\");\n$RefreshReg$(_c4, \"Searchvalue\");\n$RefreshReg$(_c5, \"Removeitem\");\n$RefreshReg$(_c6, \"GetDetails\");","map":{"version":3,"sources":["C:/Users/sebas/Desktop/folders/Jobs/Elaastacloud/client/src/Redux/Actions.js"],"names":["axios","ALL_BOOKS","allBooks","dispatch","fetch","then","response","json","type","payload","catch","err","console","log","postUser","user","window","localStorage","setItem","JSON","stringify","LogInDate","Date","LogInHour","getDate","getMonth","getFullYear","getHours","getMinutes","userLogin","item","getItem","parse","Search","name","price","date","nombre","SEARCH","products","alert","LogOut","LogOutDate","LogOutHour","logDate","split","LogHours","LogMinutes","toString","loggedTime","key","email","post","removeItem","LOGOUT","ClearAll","CLEAR_ALL","Searchvalue","SEARCHVALUE","agregarCarrito","AGREGAR_CARRITO","addcart","Removeitem","REMOVE","GetDetails","id","GET_DETAILS","getLoggedTime"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nconst ALL_BOOKS = 'ALL_BOOKS';\r\n\r\nexport function allBooks() {\r\n    return function (dispatch) {\r\n      return fetch('http://localhost:3001/books')\r\n        .then((response) => response.json())\r\n        .then((json) => {\r\n          dispatch({ type: ALL_BOOKS, payload});\r\n        }).catch((err)=>console.log(err))\r\n    };\r\n  }\r\n\r\n export const postUser = (user) => {\r\n  window.localStorage.setItem('key', JSON.stringify(user))\r\n  const LogInDate = new Date()\r\n  const LogInHour = LogInDate.getDate() + '-' + (LogInDate.getMonth() + 1) + '-' + LogInDate.getFullYear() + '-' + LogInDate.getHours() + '-' + LogInDate.getMinutes();\r\n  window.localStorage.setItem('date', JSON.stringify(LogInHour))\r\n\r\n  return {\r\n    type:'USER',\r\n    payload: user\r\n  }\r\n }\r\n\r\n export const userLogin = (user) => {\r\n  const item = window.localStorage.getItem('key')\r\n  //  item ? JSON.parse(item)\r\n   return {\r\n  type:'USERLOG',\r\n  payload: item && JSON.parse(item)\r\n   } \r\n }\r\n\r\n  export function Search(name, price, date) {\r\n    const nombre = name ? name : null;\r\n      return function (dispatch) {\r\n        return fetch(`https://api.bestbuy.com/v1/products(search=${nombre})?format=json&show=image,releaseDate,sku,name,salePrice&apiKey=zkV0vgA2RGeQDBibuvt1Dp5k&format=json`)\r\n          .then((response) => response.json())\r\n          .then((json) => {\r\n            dispatch({ type: SEARCH, payload: json.products, price, date});\r\n          }).catch((err)=>alert('Ups couldnt find it'))\r\n      };\r\n    }\r\n\r\n\r\nexport const LogOut = () => {\r\n  let LogInHour =  JSON.parse(window.localStorage.getItem('date'));\r\n  const LogOutDate = new Date();\r\n  let LogOutHour = LogOutDate.getDate() + '-' + (LogOutDate.getMonth() + 1) + '-' + LogOutDate.getFullYear() + '-' + LogOutDate.getHours() + '-' + LogOutDate.getMinutes();\r\n  let logDate = LogOutDate.getDate() + '-' + (LogOutDate.getMonth() + 1) + '-' + LogOutDate.getFullYear() + ':';\r\n  LogInHour = LogInHour.split('-');\r\n  LogOutHour = LogOutHour.split('-');\r\n  let LogHours = LogInHour[3] - LogOutHour[3];\r\n  let LogMinutes = LogInHour[4].toString() - LogOutHour[4];\r\n  let loggedTime = logDate.toString() + LogHours.toString() + 'Hs' + '-' + LogMinutes.toString() + 'Mins' + '-';\r\n  alert(loggedTime);\r\n  let key = JSON.parse(window.localStorage.getItem('key'));\r\n  let email = key.email;\r\n  axios.post(\"http://localhost:3001/updateUser\", {email, loggedTime})\r\n  window.localStorage.removeItem('key');\r\n  return {\r\n    type: LOGOUT,\r\n  }\r\n}\r\n\r\n\r\nexport const ClearAll = () => {\r\n  return {\r\n    type: CLEAR_ALL\r\n  }\r\n}\r\n\r\n\r\nexport const Searchvalue = (payload) => {\r\nreturn {\r\n  type: SEARCHVALUE,\r\n  payload,\r\n}\r\n}\r\n\r\nexport function agregarCarrito(payload) {\r\n    return function (dispatch) {\r\n      return fetch(`https://api.bestbuy.com/v1/products/${payload}.json?pageSize=50&page=1&apiKey=zkV0vgA2RGeQDBibuvt1Dp5k&format=json`)\r\n        .then((response) => response.json())\r\n        .then((json) => {\r\n          window.localStorage.setItem('cart', JSON.stringify(json))\r\n          dispatch({ type: AGREGAR_CARRITO, payload: json}); alert('Added to cart');\r\n        }).catch((err)=>alert('Ups couldnt find it'))\r\n    };\r\n  }\r\n\r\n\r\n\r\n  export const addcart = (payload) => {\r\n    return {\r\n      type:'addcart',\r\n      payload\r\n    }\r\n  }\r\nexport const Removeitem = (payload) => {\r\n  return {\r\n    type: REMOVE,\r\n    payload,\r\n  }\r\n}\r\n\r\n  \r\n\r\n\r\nexport const GetDetails = (id) => {\r\n    return function (dispatch) {\r\n      return fetch(`https://api.bestbuy.com/v1/products/${id}.json?pageSize=50&page=1&apiKey=zkV0vgA2RGeQDBibuvt1Dp5k&format=json`)\r\n        .then((response) => response.json())\r\n        .then((json) => {\r\n          dispatch({ type: GET_DETAILS, payload: json });\r\n        }).catch((err)=>console.log(err))\r\n    };\r\n  }\r\n\r\nexport const getLoggedTime = () => {\r\n  return function (dispatch) {\r\n    return fetch('http://localhost:3001/users')\r\n    .then((response) => response.json())\r\n    .then((json) => {\r\n      dispatch({type: 'updateTime', payload: json})\r\n    }).catch((err) => console.log(err))\r\n  }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}