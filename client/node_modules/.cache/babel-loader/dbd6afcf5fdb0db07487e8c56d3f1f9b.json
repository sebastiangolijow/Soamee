{"ast":null,"code":"module.exports = openBoxEndpoint;\n\nfunction openBoxEndpoint(opts) {\n  return {\n    openBox,\n    openBoxAsStream\n  };\n\n  function openBox(search, params, callback) {\n    if (typeof params === 'function') {\n      callback = params;\n      params = {};\n    }\n\n    return opts.apiService(prepareRequest(search, params), callback);\n  }\n\n  function openBoxAsStream(search, params) {\n    // cursorMarks are not supported so we'll use pages\n    if (!params) params = {};\n    params.page = 1;\n    return opts.apiStreamService('results.*', prepareRequest(search, params));\n  }\n\n  function prepareRequest(search, params) {\n    var url;\n\n    if (typeof search === 'number') {\n      url = `${opts.url}/beta/products/${search}/openBox`;\n    } else if (typeof search === 'string' && search.length > 0) {\n      // Search is still a \"sku\", but was passed as a string\n      if (!isNaN(parseInt(search))) {\n        url = `${opts.url}/beta/products/${search}/openBox`;\n      } else {\n        url = `${opts.url}/beta/products/openBox(${search})`;\n      }\n    } else {\n      url = `${opts.url}/beta/products/openBox`;\n    }\n\n    return {\n      url,\n      params\n    };\n  }\n}","map":{"version":3,"sources":["C:/Users/sebas/Desktop/folders/Jobs/Elaastacloud/client/node_modules/bestbuy/lib/openBox.js"],"names":["module","exports","openBoxEndpoint","opts","openBox","openBoxAsStream","search","params","callback","apiService","prepareRequest","page","apiStreamService","url","length","isNaN","parseInt"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiBC,eAAjB;;AAEA,SAASA,eAAT,CAA0BC,IAA1B,EAAgC;AAC9B,SAAO;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,GAAP;;AAEA,WAASD,OAAT,CAAkBE,MAAlB,EAA0BC,MAA1B,EAAkCC,QAAlC,EAA4C;AAC1C,QAAI,OAAOD,MAAP,KAAkB,UAAtB,EAAkC;AAChCC,MAAAA,QAAQ,GAAGD,MAAX;AACAA,MAAAA,MAAM,GAAG,EAAT;AACD;;AAED,WAAOJ,IAAI,CAACM,UAAL,CAAgBC,cAAc,CAACJ,MAAD,EAASC,MAAT,CAA9B,EAAgDC,QAAhD,CAAP;AACD;;AAED,WAASH,eAAT,CAA0BC,MAA1B,EAAkCC,MAAlC,EAA0C;AACxC;AACA,QAAI,CAACA,MAAL,EAAaA,MAAM,GAAG,EAAT;AACbA,IAAAA,MAAM,CAACI,IAAP,GAAc,CAAd;AACA,WAAOR,IAAI,CAACS,gBAAL,CAAsB,WAAtB,EAAmCF,cAAc,CAACJ,MAAD,EAASC,MAAT,CAAjD,CAAP;AACD;;AAED,WAASG,cAAT,CAAyBJ,MAAzB,EAAiCC,MAAjC,EAAyC;AACvC,QAAIM,GAAJ;;AAEA,QAAI,OAAOP,MAAP,KAAkB,QAAtB,EAAgC;AAC9BO,MAAAA,GAAG,GAAI,GAAEV,IAAI,CAACU,GAAI,kBAAiBP,MAAO,UAA1C;AACD,KAFD,MAEO,IAAI,OAAOA,MAAP,KAAkB,QAAlB,IAA8BA,MAAM,CAACQ,MAAP,GAAgB,CAAlD,EAAqD;AAC1D;AACA,UAAI,CAACC,KAAK,CAACC,QAAQ,CAACV,MAAD,CAAT,CAAV,EAA8B;AAC5BO,QAAAA,GAAG,GAAI,GAAEV,IAAI,CAACU,GAAI,kBAAiBP,MAAO,UAA1C;AACD,OAFD,MAEO;AACLO,QAAAA,GAAG,GAAI,GAAEV,IAAI,CAACU,GAAI,0BAAyBP,MAAO,GAAlD;AACD;AACF,KAPM,MAOA;AACLO,MAAAA,GAAG,GAAI,GAAEV,IAAI,CAACU,GAAI,wBAAlB;AACD;;AAED,WAAO;AAAEA,MAAAA,GAAF;AAAON,MAAAA;AAAP,KAAP;AACD;AACF","sourcesContent":["module.exports = openBoxEndpoint;\n\nfunction openBoxEndpoint (opts) {\n  return { openBox, openBoxAsStream };\n\n  function openBox (search, params, callback) {\n    if (typeof params === 'function') {\n      callback = params;\n      params = {};\n    }\n\n    return opts.apiService(prepareRequest(search, params), callback);\n  }\n\n  function openBoxAsStream (search, params) {\n    // cursorMarks are not supported so we'll use pages\n    if (!params) params = {};\n    params.page = 1;\n    return opts.apiStreamService('results.*', prepareRequest(search, params));\n  }\n\n  function prepareRequest (search, params) {\n    var url;\n\n    if (typeof search === 'number') {\n      url = `${opts.url}/beta/products/${search}/openBox`;\n    } else if (typeof search === 'string' && search.length > 0) {\n      // Search is still a \"sku\", but was passed as a string\n      if (!isNaN(parseInt(search))) {\n        url = `${opts.url}/beta/products/${search}/openBox`;\n      } else {\n        url = `${opts.url}/beta/products/openBox(${search})`;\n      }\n    } else {\n      url = `${opts.url}/beta/products/openBox`;\n    }\n\n    return { url, params };\n  }\n}\n"]},"metadata":{},"sourceType":"script"}