{"ast":null,"code":"module.exports = storesEndpoint;\n\nfunction storesEndpoint(opts) {\n  return {\n    stores,\n    storesAsStream\n  };\n\n  function stores(search, params, callback) {\n    if (typeof params === 'function' && !callback) {\n      callback = params;\n      params = {};\n    }\n\n    return opts.apiService(prepareRequest(search, params), callback);\n  }\n\n  function storesAsStream(search, params) {\n    return opts.apiStreamService('stores.*', prepareRequest(search, params));\n  }\n\n  function prepareRequest(search, params) {\n    var bbyQuery = search && search.length > 0 ? `(${search})` : '';\n\n    if (!isNaN(search) && typeof search === 'number') {\n      // Resource ID\n      var ext = params && params.format === 'xml' ? 'xml' : 'json';\n      bbyQuery = `/${search}.${ext}`;\n    }\n\n    var url = `${opts.url}/v1/stores${bbyQuery}`;\n    return {\n      url,\n      params\n    };\n  }\n}","map":{"version":3,"sources":["C:/Users/sebas/Desktop/folders/Jobs/Elaastacloud/client/node_modules/bestbuy/lib/stores.js"],"names":["module","exports","storesEndpoint","opts","stores","storesAsStream","search","params","callback","apiService","prepareRequest","apiStreamService","bbyQuery","length","isNaN","ext","format","url"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiBC,cAAjB;;AAEA,SAASA,cAAT,CAAyBC,IAAzB,EAA+B;AAC7B,SAAO;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,GAAP;;AAEA,WAASD,MAAT,CAAiBE,MAAjB,EAAyBC,MAAzB,EAAiCC,QAAjC,EAA2C;AACzC,QAAI,OAAOD,MAAP,KAAkB,UAAlB,IAAgC,CAACC,QAArC,EAA+C;AAC7CA,MAAAA,QAAQ,GAAGD,MAAX;AACAA,MAAAA,MAAM,GAAG,EAAT;AACD;;AAED,WAAOJ,IAAI,CAACM,UAAL,CAAgBC,cAAc,CAACJ,MAAD,EAASC,MAAT,CAA9B,EAAgDC,QAAhD,CAAP;AACD;;AAED,WAASH,cAAT,CAAyBC,MAAzB,EAAiCC,MAAjC,EAAyC;AACvC,WAAOJ,IAAI,CAACQ,gBAAL,CAAsB,UAAtB,EAAkCD,cAAc,CAACJ,MAAD,EAASC,MAAT,CAAhD,CAAP;AACD;;AAED,WAASG,cAAT,CAAyBJ,MAAzB,EAAiCC,MAAjC,EAAyC;AACvC,QAAIK,QAAQ,GAAIN,MAAM,IAAIA,MAAM,CAACO,MAAP,GAAgB,CAA3B,GAAiC,IAAGP,MAAO,GAA3C,GAAgD,EAA/D;;AAEA,QAAI,CAACQ,KAAK,CAACR,MAAD,CAAN,IAAkB,OAAOA,MAAP,KAAkB,QAAxC,EAAkD;AAChD;AACA,UAAIS,GAAG,GAAIR,MAAM,IAAIA,MAAM,CAACS,MAAP,KAAkB,KAA7B,GAAsC,KAAtC,GAA8C,MAAxD;AACAJ,MAAAA,QAAQ,GAAI,IAAGN,MAAO,IAAGS,GAAI,EAA7B;AACD;;AACD,QAAIE,GAAG,GAAI,GAAEd,IAAI,CAACc,GAAI,aAAYL,QAAS,EAA3C;AAEA,WAAO;AAAEK,MAAAA,GAAF;AAAOV,MAAAA;AAAP,KAAP;AACD;AACF","sourcesContent":["module.exports = storesEndpoint;\n\nfunction storesEndpoint (opts) {\n  return { stores, storesAsStream };\n\n  function stores (search, params, callback) {\n    if (typeof params === 'function' && !callback) {\n      callback = params;\n      params = {};\n    }\n\n    return opts.apiService(prepareRequest(search, params), callback);\n  }\n\n  function storesAsStream (search, params) {\n    return opts.apiStreamService('stores.*', prepareRequest(search, params));\n  }\n\n  function prepareRequest (search, params) {\n    var bbyQuery = (search && search.length > 0) ? `(${search})` : '';\n\n    if (!isNaN(search) && typeof search === 'number') {\n      // Resource ID\n      var ext = (params && params.format === 'xml') ? 'xml' : 'json';\n      bbyQuery = `/${search}.${ext}`;\n    }\n    var url = `${opts.url}/v1/stores${bbyQuery}`;\n\n    return { url, params };\n  }\n}\n"]},"metadata":{},"sourceType":"script"}